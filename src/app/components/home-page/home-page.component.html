<!-- toaster -->
<div
  *ngIf="showToast"
  class="toast-message position-fixed top-0 start-50 translate-middle-x mt-5 px-4 py-2 rounded shadow text-white text-nowrap"
  style="z-index: 9999; background-color: #f3efef; white-space: nowrap; max-width: 100%;"
>
  {{ message }}
</div>
<header class="mobile-header d-block d-lg-none">
  <div class="d-flex justify-content-between align-items-center px-3 py-2">
    <div class="d-flex align-items-center gap-2">
      <i class="bi bi-list fs-4" (click)="toggleDrawer()"></i>
      <span class="fw-bold">EatEasy</span>
    </div>
    <div class="position-relative bell-wrapper">
      <i class="bi bi-bell fs-5"></i>
      <span class="badge rounded-pill bg-danger cust_text">1</span>
    </div>

  </div>
</header>

<div class="container-fluid p-3 mb-5">
  <!-- Search Box -->
<div class="search-box-container d-block d-lg-none">
  <div class="input-group search-box">
    <input type="text"
           class="form-control"
           placeholder="Search"
           [(ngModel)]="searchTerm"
           (ngModelChange)="onSearchChange()" />
    <span class="input-group-text bg-white border-start-0">
      <i class="bi bi-search"></i>
    </span>
  </div>
</div>


  <h6 class="pt-3 pb-2 ">Popular Items</h6>

  <div class="row">
    <div class="col-6 col-md-3" *ngFor="let item of popularItems">
      <div class="card p_product">
        <img  (click)="goToDetails(item)" [src]="item.image" class="card-img-top rounded cust_pointer">
        <div class="text-center">
          <p class="mb-1 fw-semibold">{{ item.name }}</p>
          <p class="mb-1 fw-medium"><span class="fw-bold">৳</span>{{ item.price | number: '1.2-2' }}</p>
          <button class="btn w-100  primary_color" (click)="addToCart(item,item.quantity + 1)">Add to Cart</button>
        </div>
      </div>
    </div>
  </div>

  <h6 class="pt-3 pb-2">Special Offers</h6>

  <div class="row">
    <div class="col-6 col-md-3" *ngFor="let item of popularItems">
      <div class="card border p_product">
        <img  (click)="goToDetails(item)" [src]="item.image" class="card-img-top rounded">
        <div class="text-center">
          <p class="mb-1 fw-semibold">{{ item.name }}</p>
          <p class="mb-1 fw-medium"><span class="fw-bold">৳</span>{{ item.price }}</p>
          <button class="btn w-100 primary_color" (click)="addToCart(item,item.quantity + 1)">Add to Cart</button>
        </div>
      </div>
    </div>
  </div>

  <h6 class="pt-3 pb-2">New Arrival Items</h6>

  <div class="row">
    <div class="col-6 col-md-3" *ngFor="let item of popularItems">
      <div class="card border p_product">
        
        <img  (click)="goToDetails(item)" [src]="item.image" class="card-img-top rounded">
        <div class="text-center">
          <p class="mb-1 fw-semibold">{{ item.name }}</p>
          <p class="mb-1 fw-medium"><span class="fw-bold">৳</span>{{ item.price }}</p>
          <button class="btn w-100 primary_color" (click)="addToCart(item,item.quantity + 1)">Add to Cart</button>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Side Drawer -->
<div *ngIf="drawerOpen" class="drawer-overlay" (click)="toggleDrawer()">
  <div class="drawer-content" (click)="$event.stopPropagation()">
    <i class="bi bi-x fs-3 me-2 mt-2 d-flex justify-content-end" (click)="toggleDrawer()"></i>
    <ul class="list-unstyled m-0 p-4 pt-0">
      <li class="py-2 border-bottom" (click)="navigateTo('')">Home</li>
      <li class="py-2 border-bottom" >Menu</li>
      <li class="py-2 border-bottom" (click)="navigateTo('cart')">Cart</li>
      <li class="py-2" >Profile</li>
      
    </ul>
    <a class="btn btn-sm fw-semibold ms-3" style=" background-color: #fff3cd;">Sign Up / Sign In</a>
  </div>
</div>



<footer class="mobile-footer d-block d-lg-none">
  <div class="d-flex justify-content-around align-items-center py-2">
    <i routerLink="/" class="bi bi-house-door"></i>
    <i class="bi bi-grid"></i>
    <i class="bi bi-chat-dots"></i>
    <div routerLink="/cart" class="position-relative bell-wrapper">
      <i class="bi bi-cart "></i>
      <span class="badge rounded-pill bg-danger cart_count">{{ cartCount }}</span>
    </div>

    <i class="bi bi-person fs-4"></i>
  </div>
</footer>